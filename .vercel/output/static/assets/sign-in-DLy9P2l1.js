import{a as j,d as y,r as u,t as n,j as e}from"./main-B5FlV0ud.js";import{I as h,B as w}from"./button-BmSOyNex.js";import{L as p}from"./label-Chk9yu5q.js";function S(){const{signIn:x,profile:t,loading:i}=j(),o=y(),[r,g]=u.useState({email:"",password:""}),[d,c]=u.useState(!1),m=(a,s)=>{g(l=>({...l,[a]:s}))},f=async a=>{a.preventDefault(),c(!0);try{const{error:s}=await x(r.email,r.password);if(s){n.error(s.message||"Failed to sign in");return}await new Promise(l=>setTimeout(l,500))}catch(s){n.error(s.message||"An unexpected error occurred")}finally{c(!1)}};return!i&&t&&(t.role==="author"?(t.status==="pending"?n.info("Your account is pending admin approval"):t.status==="rejected"&&n.error("Your account has been rejected. Please contact admin."),o({to:"/author/profile"})):t.role==="admin"?o({to:"/admin/dashboard"}):o({to:"/"})),e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4 py-12",children:e.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-sm border border-gray-200 p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Author Sign In"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Sign in to manage your author profile"})]}),e.jsxs("form",{onSubmit:f,className:"space-y-5",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(p,{htmlFor:"email",children:["Email ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(h,{id:"email",type:"email",value:r.email,onChange:a=>m("email",a.target.value),required:!0,placeholder:"author@example.com"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(p,{htmlFor:"password",children:["Password ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(h,{id:"password",type:"password",value:r.password,onChange:a=>m("password",a.target.value),required:!0,placeholder:"Enter your password"})]}),e.jsx(w,{type:"submit",disabled:d||i,className:"w-full",children:d||i?"Signing In...":"Sign In"})]}),e.jsxs("div",{className:"mt-6 text-center text-sm text-gray-600",children:["Don't have an account?"," ",e.jsx("a",{href:"/author/sign-up",className:"font-semibold text-gray-900 hover:underline",children:"Sign up"})]})]})})}export{S as component};
