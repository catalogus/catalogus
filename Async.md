API Async Response

Once the transaction is initiated, an immediate response with the following fields will be provided before the session is closed. The Conversation ID can be used in a Query Transaction Status call to determine the current status of the process flow.
Name 	Description 	Type 	Possible Values
output_ThirdPartyReference 	This is the reference of the third party system. When there are queries about transactions, this will usually be used to track a transaction. 	String 	11114
output_ConversationID 	This gets generated by the Mobile Money platform. This is used to query transactions on the Mobile Money Platform. 	String 	18ffa4ccf93343379421d2eac15a3e8c
output_ResponseCode 	This gets generated by the iPG platform to indicate the status of the transaction 	String 	See response table below
output_ResponseDesc 	This gets generated by the iPG platform to indicate the status of the transaction 	String 	See response table below

API Async Result Request

Once the transaction is completed on the Mobile Money platform, the below response will be sent back to your developed listener in the Response URL provided on My Accountâ€™s page.
Name 	Description 	Type 	Possible Values
input_OriginalConversationID 	This gets generated by the iPG platform. This is used to query the status of transactions as well as link up asynchronous transactions. 	String 	241fasif1f1n92fn129nfasnf91nf1
input_ThirdPartyReference 	This is the reference of the third party system. When there are queries about transactions, this will usually be used to track a transaction. 	String 	11114
input_TransactionID 	This gets generated by the Mobile Money platform. This is used to query transactions as well as reverse transactions. 	String 	4XDF12345
input_ResultCode 	This gets generated by the Mobile Money platform. This will indicate if the transaction was processed successfully or not. 	String 	0
input_ResultDesc 	This gets generated by the Mobile Money platform. This will indicate if the transaction was processed successfully or not. 	String 	Request Processed Successfully

API Async Result Response

Once your developed listener have received the asynchronous request, it will need to reply the following response back.
Name 	Description 	Type 	Possible Values
output_OriginalConversationID 	This gets generated by the iPG platform. This is used to query the status of transactions as well as link up asynchronous transactions. This is the same ID that is sent in the async request. 	String 	241fasif1f1n92fn129nfasnf91nf1
output_ResponseDesc 	This gets generated by the ThirdParty platform to indicate the status of the receipt of the transaction. 	String 	Successfully Accepted Result
output_ResponseCode 	This gets generated by the ThirdParty platform to indicate the status of the receipt of the transaction. 	String 	0
output_ThirdPartyConversationID 	This is the reference of the third party system. When there are queries about transactions, this will usually be used to track a transaction. 	String 	11114
Response Codes & Descriptions
Http Status Code 	Code 	Description
200 / 201 	INS-0 	Request processed successfully
500 	INS-1 	Internal Error
401 	INS-2 	Invalid API Key
401 	INS-4 	User is not active
401 	INS-5 	Transaction cancelled by customer
401 	INS-6 	Transaction Failed
408 	INS-9 	Request timeout
409 	INS-10 	Duplicate Transaction
400 	INS-13 	Invalid Shortcode Used
400 	INS-14 	Invalid Reference Used
400 	INS-15 	Invalid Amount Used
503 	INS-16 	Unable to handle the request due to a temporary overloading
400 	INS-17 	Invalid Transaction Reference. Length Should Be Between 1 and 20.
400 	INS-18 	Invalid TransactionID Used
400 	INS-19 	Invalid ThirdPartyReference Used
400 	INS-20 	Not All Parameters Provided. Please try again.
400 	INS-21 	Parameter validations failed. Please try again.
400 	INS-22 	Invalid Operation Type
400 	INS-23 	Unknown Status. Contact M-Pesa Support
400 	INS-24 	Invalid InitiatorIdentifier Used
400 	INS-25 	Invalid SecurityCredential Used
400 	INS-26 	Not authorized
400 	INS-993 	Direct Debit Missing
400 	INS-994 	Direct Debit Already Exists
400 	INS-995 	Customer's Profile Has Problems
400 	INS-996 	Customer Account Status Not Active
400 	INS-997 	Linking Transaction Not Found
400 	INS-998 	Invalid Market
400 	INS-2001 	Initiator authentication error.
400 	INS-2002 	Receiver invalid.
422 	INS-2006 	Insufficient balance
400 	INS-2051 	MSISDN invalid.
400 	INS-2057 	Language code invalid.
Request

POST /ipg/v1x/c2bPayment/singleStage/ HTTP/1.1
Host: api.sandbox.vm.co.mz
Content-Type: application/json
Authorization: Bearer AYBvMmudHIcPw7frHd5aZVuyKhmMBrTadJKhprcObfMOCem0YbspJzK0YK0/+RSjJw5jP9d0lp1w/w5OluSHcL2OnewKwnKNdya1JNlt+riQwfa2/Gdmp+8PAazEz8Cx7q+mSmX7L+LA2b9F5kXxUZGE/q5rF3Ww6oGLSLToMqNsxnkebJ6IE03oy6R8Ymxe48PKOI4NZPFQsGlSp/nfsd6jriXVRUjVxXmTbwN0NA7pOWi4tQmOJCOq45CbCz7rnC5BXigPNcaLStOW7mLklSi4BzTT96BTq6xYXxR9Brc6kYcFzcc68cM2vgdZV2PPZpevmloe/cVVcj4/dGKogPw6DRnbIk0tRbhP6AO9IJwGwb5CAJdKfje7GpPhh7ar+3G740XrWMJLU4JT+5lRNlP0+BZ4U3CkfuQSKjhap4EnZ4jzo4KIdyos4sjkBvZwTtChong7d4KxPZR8SEBEWqDc31h4MERzkQrFUdBRrbt/cW1bQjVGGaGvEFYHG602kNLUFItzghOe2wAGa6gF1aClgcLjnr9GT37LDBxffL1oChhIevPXGKpWi+fiLwqnKnhJi76VEto30ADdHx1wxcBOUhBh2SFM9FEm7Ew07inwJAWxoOBBy1Uqyqu+RHNfIPqnynqQwSdJn+9N7ywXSpEDQVcnThC67H6zPo0byGM=
Origin: developer.mpesa.vm.co.mz


{
	"input_TransactionReference": "T12344C",
	"input_CustomerMSISDN": "258843330333",
	"input_Amount": "10",
	"input_ThirdPartyReference": "PFW5PS",
	"input_ServiceProviderCode": "171717"
}

